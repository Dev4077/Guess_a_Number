<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultimate Neon Guess Game</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: radial-gradient(circle at top, #050515, #000);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial;
    color: #0ff;
    overflow: hidden;
}

.card {
    background: rgba(0,0,0,.8);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 0 25px #0ff, inset 0 0 15px #0ff;
    z-index: 2;
}

h1 {
    text-shadow: 0 0 10px #0ff;
}

select, input {
    padding: 10px;
    width: 220px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    outline: none;
    background: black;
    color: #0ff;
    box-shadow: inset 0 0 10px #0ff;
    margin-bottom: 10px;
}

button {
    margin-top: 10px;
    padding: 10px 25px;
    font-size: 16px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    background: transparent;
    color: #0ff;
    box-shadow: 0 0 10px #0ff;
    transition: .2s;
}

button:hover {
    box-shadow: 0 0 25px #0ff;
    transform: scale(1.05);
}

#message {
    margin-top: 15px;
    min-height: 25px;
    text-shadow: 0 0 8px #0ff;
}

.counter {
    margin-top: 10px;
}

/* Fireworks canvas */
canvas {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="card">
    <h1>‚ö° Neon Guess Game</h1>

    <select id="difficulty" onchange="setDifficulty()">
        <option value="100">Easy (1‚Äì100)</option>
        <option value="500">Medium (1‚Äì500)</option>
        <option value="1000">Hard (1‚Äì1000)</option>
    </select>

    <br>

    <input id="guess" type="number" placeholder="Enter your guess" />

    <br>

    <button onclick="checkGuess()">Check</button>
    <button onclick="resetGame()">Reset</button>

    <div id="message"></div>
    <div class="counter">Guesses: <span id="count">0</span></div>
</div>

<script>
let maxRange = 100;
let secret = generateNumber();
let attempts = 0;

function generateNumber() {
    return Math.floor(Math.random() * maxRange) + 1;
}

function setDifficulty() {
    maxRange = Number(document.getElementById("difficulty").value);
    resetGame();
}

function checkGuess() {
    const input = document.getElementById("guess");
    const msg = document.getElementById("message");
    const count = document.getElementById("count");

    let guess = Number(input.value);

    if (!guess || guess < 1 || guess > maxRange) {
        msg.innerHTML = `‚ùå Enter number between 1 and ${maxRange}`;
        return;
    }

    attempts++;
    count.innerHTML = attempts;

    let diff = Math.abs(secret - guess);

    if (guess < secret) {
        msg.innerHTML = getHint(diff) + " ‚¨Ü Go Higher!";
    }
    else if (guess > secret) {
        msg.innerHTML = getHint(diff) + " ‚¨á Go Lower!";
    }
    else {
        msg.innerHTML = `üî• YOU WON in ${attempts} guesses! üéâ`;
        launchFireworks();
    }

    input.value = "";
}

function getHint(diff) {
    if (diff === 0) return "";
    if (diff <= 5) return "üî• Extremely Close!";
    if (diff <= 15) return "‚ö° Very Close!";
    if (diff <= 30) return "üôÇ Close!";
    if (diff <= 100) return "üòê Not Close";
    return "ü•∂ Very Far!";
}

function resetGame() {
    secret = generateNumber();
    attempts = 0;
    document.getElementById("count").innerHTML = 0;
    document.getElementById("message").innerHTML = "Game reset. Try again!";
    document.getElementById("guess").value = "";
}

document.getElementById("guess").addEventListener("keyup", function(e){
    if(e.key === "Enter") checkGuess();
});

/* ================= FIREWORKS ================= */

const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

function launchFireworks() {
    for(let i=0;i<80;i++){
        createParticle();
    }
}

function createParticle() {
    const x = canvas.width / 2;
    const y = canvas.height / 2;

    const angle = Math.random() * 2 * Math.PI;
    const speed = Math.random() * 6 + 2;

    const vx = Math.cos(angle) * speed;
    const vy = Math.sin(angle) * speed;

    const color = `hsl(${Math.random()*360},100%,50%)`;

    animateParticle(x, y, vx, vy, color);
}

function animateParticle(x, y, vx, vy, color) {
    let life = 100;

    function draw() {
        if(life <= 0) return;

        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(x, y, 3, 0, Math.PI*2);
        ctx.fill();

        x += vx;
        y += vy;
        vy += 0.05; // gravity
        life--;

        requestAnimationFrame(draw);
    }

    draw();
}
</script>

</body>
</html>
